<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Matematika Interaktif Pecahan dan Rasio (Kelas 6)</title>
    <!-- Memuat Tailwind CSS untuk styling modern dan responsif -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Script MathJax dihapus karena notasi matematika diubah menjadi teks sederhana -->
    <style>
        /* Mengatur font agar notasi matematika dan teks biasa terlihat bagus */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f3f8; /* Warna latar belakang lembut */
        }
        /* Styling khusus untuk kontainer soal */
        .question-card {
            background-color: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
            margin-bottom: 20px;
            transition: transform 0.2s;
        }
        .question-card:hover {
            transform: translateY(-2px);
        }
        /* Styling khusus untuk tombol */
        .primary-button {
            background-color: #ff6f61; /* Merah jambu ceria */
            color: white;
            font-weight: bold;
            padding: 12px 24px;
            border-radius: 8px;
            transition: background-color 0.3s, transform 0.1s;
        }
        .primary-button:hover {
            background-color: #e65a4e;
        }
        .primary-button:active {
            transform: scale(0.98);
        }
        .option-label {
            display: flex;
            align-items: center;
            background-color: #fff0f5; /* Latar belakang opsi lembut */
            border: 2px solid #ff6f61;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .option-label:hover {
            background-color: #ffe4e9;
        }
        input[type="radio"]:checked + .option-text,
        input[type="checkbox"]:checked + .option-text {
            font-weight: bold;
            color: #d63447;
        }
        /* Custom Checkbox/Radio styling (hidden native input) */
        input[type="radio"], input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #ff6f61;
            border-radius: 50%; /* Bulat untuk radio */
            margin-right: 10px;
            position: relative;
            cursor: pointer;
            outline: none;
            flex-shrink: 0;
        }
        input[type="checkbox"] {
            border-radius: 4px; /* Kotak untuk checkbox */
        }
        input[type="radio"]:checked::after {
            content: '';
            position: absolute;
            top: 4px;
            left: 4px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #ff6f61;
        }
        input[type="checkbox"]:checked::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 14px;
            color: white;
            background: #ff6f61;
            width: 100%;
            height: 100%;
            border-radius: 4px;
            text-align: center;
            line-height: 20px;
        }
        /* Tampilan hasil */
        #result-container {
            background-color: #e6f7ff; /* Biru muda cerah */
            border: 2px dashed #0096d2;
            padding: 20px;
            border-radius: 12px;
            margin-top: 30px;
            text-align: center;
        }
        .fireworks {
            font-size: 40px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <header class="text-center mb-8">
        <h1 class="text-4xl md:text-5xl font-extrabold text-[#d63447]">
            <span class="text-[#ff6f61] mr-2">‚≠ê</span>Ujian Matematika Kelas 6<span class="text-[#ff6f61] ml-2">‚≠ê</span>
        </h1>
        <p class="text-xl text-gray-600 mt-2">Pecahan dan Rasio - Siap Jadi Juara!</p>
    </header>

    <!-- Langkah 1: Formulir Data Siswa -->
    <div id="data-form-container" class="max-w-xl mx-auto question-card">
        <h2 class="text-2xl font-bold mb-4 text-[#0096d2]">Data Peserta Ujian</h2>
        <div class="space-y-4">
            <div>
                <label for="student-name" class="block text-sm font-medium text-gray-700">Nama Lengkap</label>
                <input type="text" id="student-name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border" required>
            </div>
            <div>
                <label for="student-presence" class="block text-sm font-medium text-gray-700">Nomor Presensi (Absen)</label>
                <input type="number" id="student-presence" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border" required>
            </div>
            <div>
                <label for="exam-date" class="block text-sm font-medium text-gray-700">Tanggal Ujian</label>
                <input type="date" id="exam-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border" required>
            </div>
            <button onclick="startQuiz()" class="primary-button w-full mt-4">Mulai Ujian! üéâ</button>
        </div>
        <p id="data-error" class="text-red-500 mt-2 text-sm hidden">Mohon lengkapi semua data sebelum memulai ujian.</p>
    </div>

    <!-- Langkah 2: Kontainer Ujian -->
    <div id="quiz-container" class="max-w-3xl mx-auto hidden">
        <div id="questions-list">
            <!-- Soal akan di-render di sini oleh JavaScript -->
        </div>
        <div class="mt-8 text-center">
            <button onclick="submitQuiz()" class="primary-button text-2xl px-8 py-4">Selesai & Cek Nilai! üíØ</button>
        </div>
    </div>

    <!-- Langkah 3: Kontainer Hasil -->
    <div id="result-container" class="max-w-xl mx-auto hidden">
        <div class="fireworks">ü•≥</div>
        <h2 class="text-3xl font-extrabold text-[#d63447] mb-2">Hasil Ujian Anda</h2>
        <p class="text-xl text-gray-700 mb-2">
            Nama: <span id="result-name" class="font-semibold text-[#0096d2]"></span> 
            (Absen: <span id="result-presence" class="font-semibold text-[#0096d2]"></span>)
        </p>
        <!-- Menampilkan ID pengguna untuk tujuan kolaborasi/identifikasi data -->
        <p class="text-sm text-gray-500 mb-4">
            ID Sesi Pengguna: <span id="result-user-id" class="font-mono text-xs break-all text-gray-800"></span>
        </p>
        <p class="text-5xl font-extrabold text-green-600">Nilai Anda: <span id="final-score"></span>/100</p>
        <p id="submission-status" class="mt-4 text-sm text-gray-500"></p>
    </div>

    <!-- Firebase SDKs -->
    <script type="module">
        // Import modul Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, addDoc, collection, serverTimestamp, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Variabel global yang disediakan oleh lingkungan Canvas
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let db;
        let auth;

        // Inisialisasi Firebase dan Autentikasi
        async function setupFirebase() {
            try {
                // setLogLevel('Debug'); // Aktifkan ini untuk debugging
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                // Autentikasi menggunakan token khusus atau secara anonim
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }

                console.log("Firebase dan Autentikasi berhasil diinisialisasi. User UID:", auth.currentUser?.uid);

            } catch (error) {
                console.error("Kesalahan saat inisialisasi Firebase:", error);
                // Menampilkan pesan kesalahan jika koneksi database gagal
                const statusElement = document.getElementById('submission-status');
                if (statusElement) {
                    statusElement.textContent = "Kesalahan koneksi database. Hasil tidak dapat disimpan secara permanen.";
                }
            }
        }

        // Panggil setup saat script dimuat
        setupFirebase();

        // Jadikan fungsi dan objek ini tersedia secara global agar dapat diakses dari script biasa
        window.startQuiz = startQuiz;
        window.submitQuiz = submitQuiz;
        window.db = db;
        window.auth = auth;
    </script>

    <!-- Logika Aplikasi Ujian (JavaScript) -->
    <script>
        // Array yang berisi semua soal ujian
        // Total 30 Soal (15 PG @ 2pt = 30; 5 BS @ 4pt = 20; 10 PG Kompleks @ 5pt = 50. Total = 100)
        // NOTASI MATEMATIKA TELAH DIUBAH KE FORMAT TEKS/GARIS MIRING (Contoh: 2/3) UNTUK KEJELASAN KODE MENTAH.
        const questions = [
            // 15 Soal Pilihan Ganda (Nilai 2 per soal)
            {
                id: 1,
                type: 'multiple-choice',
                points: 2,
                question: 'Pecahan mana yang senilai dengan 2/3?',
                options: ['4/9', '6/9', '5/6', '8/10'],
                answer: '6/9'
            },
            {
                id: 2,
                type: 'multiple-choice',
                points: 2,
                question: 'Bentuk desimal dari pecahan 3/4 adalah...',
                options: ['0.34', '0.75', '0.43', '0.60'],
                answer: '0.75'
            },
            {
                id: 3,
                type: 'multiple-choice',
                points: 2,
                question: 'Hasil dari 1/2 + 1/4 adalah...',
                options: ['2/6', '3/4', '1/8', '4/4'],
                answer: '3/4'
            },
            {
                id: 4,
                type: 'multiple-choice',
                points: 2,
                question: 'Hasil dari 1 1/3 - 1/6 adalah...',
                options: ['1 1/6', '1/2', '5/6', '1 1/2'],
                answer: '1 1/6'
            },
            {
                id: 5,
                type: 'multiple-choice',
                points: 2,
                question: 'Hasil perkalian dari 2/5 x 3/4 adalah...',
                options: ['6/20', '5/9', '1/2', '3/10'],
                answer: '3/10'
            },
            {
                id: 6,
                type: 'multiple-choice',
                points: 2,
                question: 'Hasil pembagian dari 4/7 : 2 adalah...',
                options: ['8/7', '2/7', '4/14', '7/2'],
                answer: '2/7'
            },
            {
                id: 7,
                type: 'multiple-choice',
                points: 2,
                question: 'Jika perbandingan kelereng Ali dan Budi adalah 3 : 5, dan jumlah kelereng mereka 40, berapakah kelereng Budi?',
                options: ['15', '20', '25', '30'],
                answer: '25'
            },
            {
                id: 8,
                type: 'multiple-choice',
                points: 2,
                question: 'Skala suatu peta adalah 1 : 500.000. Jika jarak pada peta 5 cm, jarak sebenarnya adalah...',
                options: ['25 km', '50 km', '2.5 km', '5 km'],
                answer: '25 km'
            },
            {
                id: 9,
                type: 'multiple-choice',
                points: 2,
                question: 'Bentuk persen dari 1/5 adalah...',
                options: ['15%', '20%', '50%', '5%'],
                answer: '20%'
            },
            {
                id: 10,
                type: 'multiple-choice',
                points: 2,
                question: 'Urutan pecahan dari terkecil ke terbesar: 1/2, 0.4, 60% adalah...',
                options: ['0.4, 1/2, 60%', '60%, 1/2, 0.4', '1/2, 0.4, 60%', '0.4, 60%, 1/2'],
                answer: '0.4, 1/2, 60%' // 0.4, 0.5, 0.6
            },
            {
                id: 11,
                type: 'multiple-choice',
                points: 2,
                question: 'Nilai dari 2 1/4 + 1.25 - 50% adalah...',
                options: ['3', '4', '2.5', '3.5'],
                answer: '3' // 2.25 + 1.25 - 0.5 = 3
            },
            {
                id: 12,
                type: 'multiple-choice',
                points: 2,
                question: 'Pecahan biasa dari 45% adalah...',
                options: ['4/5', '9/20', '45/10', '1/2'],
                answer: '9/20'
            },
            {
                id: 13,
                type: 'multiple-choice',
                points: 2,
                question: 'Jika A:B = 2:3 dan B = 18, maka nilai A adalah...',
                options: ['9', '12', '15', '27'],
                answer: '12'
            },
            {
                id: 14,
                type: 'multiple-choice',
                points: 2,
                question: 'Jarak kota P dan Q pada peta 8 cm. Skala peta 1 : 1.000.000. Jarak sebenarnya adalah...',
                options: ['8 km', '80 km', '800 km', '8000 km'],
                answer: '80 km'
            },
            {
                id: 15,
                type: 'multiple-choice',
                points: 2,
                question: 'Berapakah 20% dari 200?',
                options: ['20', '40', '50', '100'],
                answer: '40'
            },

            // 5 Soal Benar/Salah (Nilai 4 per soal)
            {
                id: 16,
                type: 'true-false',
                points: 4,
                question: 'Pecahan 3/5 senilai dengan 60%.',
                options: ['Benar', 'Salah'],
                answer: 'Benar'
            },
            {
                id: 17,
                type: 'true-false',
                points: 4,
                question: 'Hasil dari 1 - 1/3 - 1/6 adalah 1/2.',
                options: ['Benar', 'Salah'],
                answer: 'Benar'
            },
            {
                id: 18,
                type: 'true-false',
                points: 4,
                question: 'Jika perbandingan umur Ayah dan Ibu adalah 5 : 4, maka umur Ayah lebih muda daripada Ibu.',
                options: ['Benar', 'Salah'],
                answer: 'Salah'
            },
            {
                id: 19,
                type: 'true-false',
                points: 4,
                question: 'Operasi 0.5 x 20 menghasilkan 10.',
                options: ['Benar', 'Salah'],
                answer: 'Benar'
            },
            {
                id: 20,
                type: 'true-false',
                points: 4,
                question: 'Jarak 1 meter sama dengan 100 centimeter.',
                options: ['Benar', 'Salah'],
                answer: 'Benar'
            },

            // 10 Soal Pilihan Ganda Kompleks (Pilih Lebih Dari Satu Jawaban Benar) (Nilai 5 per soal)
            {
                id: 21,
                type: 'complex-multiple-choice',
                points: 5,
                question: 'Pilih semua pecahan yang LEBIH BESAR dari 1/2!',
                options: ['2/5', '3/4', '0.6', '45%'], 
                answer: ['3/4', '0.6']
            },
            {
                id: 22,
                type: 'complex-multiple-choice',
                points: 5,
                question: 'Pilih pasangan pecahan yang SENILAI!',
                options: ['1/3 dan 3/6', '2/8 dan 1/4', '0.1 dan 10%', '1/5 dan 0.5'],
                answer: ['2/8 dan 1/4', '0.1 dan 10%']
            },
            {
                id: 23,
                type: 'complex-multiple-choice',
                points: 5,
                question: 'Pilih hasil yang benar dari operasi hitung pecahan berikut!',
                options: ['1/2 + 0.5 = 1', '1 1/4 - 1/2 = 0.75', '2 x 1/4 = 0.5', '6 : 1/3 = 2'],
                answer: ['1/2 + 0.5 = 1', '1 1/4 - 1/2 = 0.75', '2 x 1/4 = 0.5']
            },
            {
                id: 24,
                type: 'complex-multiple-choice',
                points: 5,
                question: 'Manakah yang merupakan cara penulisan perbandingan yang benar?',
                options: ['5 berbanding 8', '5/8', '5 : 8', '5/8 (sebagai pecahan)'],
                answer: ['5 : 8']
            },
            {
                id: 25,
                type: 'complex-multiple-choice',
                points: 5,
                question: 'Pilih pernyataan yang benar tentang Skala 1 : 100!',
                options: ['1 cm di peta = 100 cm di dunia nyata', '1 cm di peta = 1 meter di dunia nyata', 'Skala ini cocok untuk peta desa', 'Skala ini cocok untuk denah rumah'],
                answer: ['1 cm di peta = 100 cm di dunia nyata', '1 cm di peta = 1 meter di dunia nyata', 'Skala ini cocok untuk denah rumah']
            },
            {
                id: 26,
                type: 'complex-multiple-choice',
                points: 5,
                question: 'Pilih operasi hitung yang hasilnya SAMA dengan 2.',
                options: ['1.5 + 1/2', '3 - 1 1/3', '4 x 50%', '10 : 0.5'],
                answer: ['1.5 + 1/2', '4 x 50%']
            },
            {
                id: 27,
                type: 'complex-multiple-choice',
                points: 5,
                question: 'Bentuk desimal dan persen dari pecahan 4/5 adalah...',
                options: ['0.4', '0.8', '80%', '8%'],
                answer: ['0.8', '80%']
            },
            {
                id: 28,
                type: 'complex-multiple-choice',
                points: 5,
                question: 'Jika perbandingan harga pensil dan buku adalah 1 : 4. Jika harga pensil Rp 2.500, maka harga buku bisa jadi...',
                options: ['Rp 10.000', 'Empat kali harga pensil', 'Rp 7.500', 'Rp 1.000'],
                answer: ['Rp 10.000', 'Empat kali harga pensil']
            },
            {
                id: 29,
                type: 'complex-multiple-choice',
                points: 5,
                question: 'Pilih pernyataan yang benar tentang pecahan 7/10!',
                options: ['0.7', '70%', '7%', 'Senilai dengan 14/20'],
                answer: ['0.7', '70%', 'Senilai dengan 14/20']
            },
            {
                id: 30,
                type: 'complex-multiple-choice',
                points: 5,
                question: 'Operasi yang menghasilkan 1/4 adalah...',
                options: ['3/4 - 1/2', '0.5 x 0.5', '1/8 + 1/8', '1 : 4'],
                answer: ['3/4 - 1/2', '0.5 x 0.5', '1/8 + 1/8', '1 : 4']
            },
        ];

        // Variabel untuk menyimpan data siswa sementara
        let studentData = {};

        /**
         * Menggambar semua soal ke dalam container.
         */
        function renderQuestions() {
            const quizList = document.getElementById('questions-list');
            quizList.innerHTML = ''; // Kosongkan daftar soal

            questions.forEach((q, index) => {
                const qNumber = index + 1;
                let optionsHtml = '';
                // Tentukan jenis input: checkbox untuk kompleks, radio untuk PG/BS
                const inputType = q.type === 'complex-multiple-choice' ? 'checkbox' : 'radio';

                // Pastikan `q.options` adalah array sebelum diulang
                if (q.options && Array.isArray(q.options)) {
                    q.options.forEach((option, optIndex) => {
                        const optionId = `q${q.id}-opt${optIndex}`;
                        optionsHtml += `
                            <label for="${optionId}" class="option-label">
                                <input type="${inputType}" id="${optionId}" name="q${q.id}" value="${option}" data-type="${q.type}" data-points="${q.points}" />
                                <span class="option-text ml-2">${option}</span>
                            </label>
                        `;
                    });
                } else {
                    console.error(`Soal ID ${q.id} (${q.type}) dilewati karena tidak memiliki daftar opsi yang valid.`);
                    return; 
                }

                // Label tipe soal untuk memudahkan siswa
                const questionTypeLabel = q.type === 'complex-multiple-choice' ? 
                    '<span class="text-xs font-semibold px-2 py-1 bg-yellow-200 text-yellow-800 rounded-full">Pilih >1 Jawaban</span>' :
                    (q.type === 'true-false' ? '<span class="text-xs font-semibold px-2 py-1 bg-green-200 text-green-800 rounded-full">Benar/Salah</span>' : '');

                const questionCard = `
                    <div class="question-card">
                        <div class="flex justify-between items-center mb-4 border-b pb-2">
                            <p class="text-lg font-bold text-gray-800">Soal ${qNumber}. (${q.points} Poin) ${questionTypeLabel}</p>
                            
                        </div>
                        <p class="text-xl mb-4 text-gray-700">${q.question}</p>
                        <div class="options-group space-y-2">
                            ${optionsHtml}
                        </div>
                    </div>
                `;
                quizList.innerHTML += questionCard;
            });

            // MathJax tidak diperlukan lagi karena menggunakan notasi teks sederhana
        }

        /**
         * Memvalidasi data siswa dan memulai ujian.
         * Ditempelkan ke window.startQuiz via script type="module".
         */
        function startQuiz() {
            const name = document.getElementById('student-name').value.trim();
            const presence = document.getElementById('student-presence').value.trim();
            const date = document.getElementById('exam-date').value.trim();
            const errorElement = document.getElementById('data-error');

            if (!name || !presence || !date) {
                errorElement.classList.remove('hidden');
                return;
            }

            errorElement.classList.add('hidden');
            
            // Simpan data siswa ke variabel global sementara
            studentData = {
                name: name,
                presence: parseInt(presence),
                date: date
            };

            // Sembunyikan form data, tampilkan quiz
            document.getElementById('data-form-container').classList.add('hidden');
            document.getElementById('quiz-container').classList.remove('hidden');

            renderQuestions();
        }

        /**
         * Menghitung nilai total ujian berdasarkan jawaban siswa.
         * @returns {number} Nilai total (0-100).
         */
        function calculateScore() {
            let totalScore = 0;

            questions.forEach(q => {
                const name = `q${q.id}`;
                let isCorrect = false;

                if (q.type === 'multiple-choice' || q.type === 'true-false') {
                    // Pilihan Ganda / Benar Salah (Hanya satu jawaban)
                    const selected = document.querySelector(`input[name="${name}"]:checked`);
                    if (selected && selected.value === q.answer) {
                        isCorrect = true;
                    }
                } else if (q.type === 'complex-multiple-choice') {
                    // Pilihan Ganda Kompleks (Bisa lebih dari satu)
                    const selectedOptions = Array.from(document.querySelectorAll(`input[name="${name}"]:checked`))
                                                .map(input => input.value);
                    
                    // Cek apakah jawaban yang dipilih sama persis (jumlah dan isi) dengan kunci jawaban
                    if (selectedOptions.length === q.answer.length &&
                        q.answer.every(val => selectedOptions.includes(val))) {
                        isCorrect = true;
                    }
                }

                if (isCorrect) {
                    totalScore += q.points;
                }
            });

            return totalScore;
        }

        /**
         * Mengirimkan hasil ujian, menghitung nilai, dan menyimpan ke Firestore.
         * Ditempelkan ke window.submitQuiz via script type="module".
         */
        async function submitQuiz() {
            const finalScore = calculateScore();
            
            // Tampilkan hasil di UI
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('result-container').classList.remove('hidden');
            document.getElementById('result-name').textContent = studentData.name;
            document.getElementById('result-presence').textContent = studentData.presence;
            
            // Dapatkan ID pengguna dari autentikasi
            const currentUserId = window.auth.currentUser?.uid || 'Anonim';
            document.getElementById('result-user-id').textContent = currentUserId;

            document.getElementById('final-score').textContent = finalScore;
            document.getElementById('submission-status').textContent = 'Mengirim hasil ujian ke database...';

            // Data untuk disimpan
            const submissionData = {
                appId: typeof __app_id !== 'undefined' ? __app_id : 'default-app-id',
                userId: currentUserId,
                name: studentData.name,
                presence: studentData.presence,
                examDate: studentData.date,
                score: finalScore,
                totalPointsPossible: 100,
                timestamp: window.serverTimestamp ? window.serverTimestamp() : new Date().toISOString()
            };

            // Path untuk menyimpan data (Publik agar guru bisa melihat semua hasil)
            // /artifacts/{appId}/public/data/quiz_submissions
            const collectionPath = `artifacts/${submissionData.appId}/public/data/quiz_submissions`;

            try {
                if (!window.db) {
                    throw new Error("Database belum diinisialisasi atau koneksi gagal.");
                }
                
                // Tambahkan dokumen baru ke koleksi
                // Gunakan fungsi collection dan addDoc dari Firebase SDK yang dimuat di script type="module"
                const docRef = await window.addDoc(window.collection(window.db, collectionPath), submissionData);
                document.getElementById('submission-status').textContent = `Hasil berhasil disimpan! (ID Dokumen: ${docRef.id})`;
            } catch (error) {
                console.error("Kesalahan saat menyimpan data ke Firestore:", error);
                document.getElementById('submission-status').textContent = "‚ö†Ô∏è Gagal menyimpan hasil ujian ke database. Mohon catat nilai Anda dan ID Sesi.";
            }
        }

        // Ekspos fungsi Firestore yang dibutuhkan ke window agar dapat digunakan di script biasa
        // Ini adalah workaround karena `script type="module"` tidak mengekspos impor secara otomatis
        
    </script>

</body>
</html>
